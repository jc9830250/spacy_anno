(function(e){function t(t){for(var o,a,l=t[0],r=t[1],i=t[2],b=0,d=[];b<l.length;b++)a=l[b],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&d.push(s[a][0]),s[a]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);u&&u(t);while(d.length)d.shift()();return c.push.apply(c,i||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,l=1;l<n.length;l++){var r=n[l];0!==s[r]&&(o=!1)}o&&(c.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},s={app:0},c=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/ner-annotator/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=t,l=l.slice();for(var i=0;i<l.length;i++)t(l[i]);var u=r;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0e21":function(e,t,n){},"10f8":function(e,t,n){e.exports=n.p+"img/step-2.f9ebfbe0.png"},"1f49":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var o=n("7a23");function s(e,t,n,s,c,a){const l=Object(o["J"])("menu-bar"),r=Object(o["J"])("annotation-sidebar"),i=Object(o["J"])("q-drawer"),u=Object(o["J"])("start-page"),b=Object(o["J"])("annotation-page"),d=Object(o["J"])("q-page-container"),j=Object(o["J"])("q-layout");return Object(o["C"])(),Object(o["g"])(j,{view:"hHh lpR fFf"},{default:Object(o["O"])(()=>["start"!==c.currentPage?(Object(o["C"])(),Object(o["g"])(l,{key:0})):Object(o["h"])("",!0),Object(o["l"])(i,{"model-value":"start"!==c.currentPage,bordered:"",class:"bg-grey-2"},{default:Object(o["O"])(()=>[Object(o["l"])(r)]),_:1},8,["model-value"]),Object(o["l"])(d,null,{default:Object(o["O"])(()=>["start"===c.currentPage?(Object(o["C"])(),Object(o["g"])(u,{key:0,onFileLoaded:t[0]||(t[0]=e=>a.switchToPage("annotate"))})):Object(o["h"])("",!0),"annotate"===c.currentPage?(Object(o["C"])(),Object(o["g"])(b,{key:1})):Object(o["h"])("",!0)]),_:1})]),_:1})}var c=n("5ceb"),a=n.n(c);const l={class:"q-pa-sm q-pl-md row items-center"},r=Object(o["j"])("img",{src:a.a},null,-1),i=Object(o["j"])("span",{class:"q-ml-sm"},[Object(o["j"])("strong",null," NER Annotator ")],-1),u={class:"q-ml-md cursor-pointer non-selectable"},b=Object(o["j"])("span",null," Annotations ",-1),d={class:"q-ml-md cursor-pointer non-selectable"},j=Object(o["j"])("span",null," Tags ",-1),O=Object(o["k"])("Export"),p=Object(o["k"])("Import"),m={class:"q-ml-md cursor-pointer non-selectable"},h=Object(o["j"])("span",null,"Help",-1),g=Object(o["k"])(" Forum "),f=Object(o["k"])(" Report Issue "),k=Object(o["k"])("About"),C=Object(o["j"])("div",{class:"text-h6"},"Project Name",-1);function y(e,t,n,s,c,a){const y=Object(o["J"])("q-avatar"),v=Object(o["J"])("export-annotations"),w=Object(o["J"])("q-list"),x=Object(o["J"])("q-menu"),A=Object(o["J"])("q-item-section"),S=Object(o["J"])("q-item"),q=Object(o["J"])("q-space"),T=Object(o["J"])("q-separator"),J=Object(o["J"])("about-dialog"),P=Object(o["J"])("q-header"),N=Object(o["J"])("q-card-section"),B=Object(o["J"])("q-input"),I=Object(o["J"])("q-btn"),E=Object(o["J"])("q-card-actions"),Q=Object(o["J"])("q-card"),U=Object(o["J"])("q-dialog"),R=Object(o["K"])("close-popup");return Object(o["C"])(),Object(o["i"])(o["a"],null,[Object(o["l"])(P,{bordered:""},{default:Object(o["O"])(()=>[Object(o["j"])("div",l,[Object(o["j"])("div",null,[Object(o["l"])(y,{size:"xs"},{default:Object(o["O"])(()=>[r]),_:1}),i]),Object(o["j"])("div",u,[b,Object(o["l"])(x,null,{default:Object(o["O"])(()=>[Object(o["l"])(w,{dense:"",style:{"min-width":"100px"}},{default:Object(o["O"])(()=>[Object(o["l"])(v)]),_:1})]),_:1})]),Object(o["j"])("div",d,[j,Object(o["l"])(x,null,{default:Object(o["O"])(()=>[Object(o["l"])(w,{dense:"",style:{"min-width":"100px"}},{default:Object(o["O"])(()=>[Object(o["P"])((Object(o["C"])(),Object(o["g"])(S,{clickable:"",onClick:t[0]||(t[0]=e=>a.exportTags())},{default:Object(o["O"])(()=>[Object(o["l"])(A,null,{default:Object(o["O"])(()=>[O]),_:1})]),_:1})),[[R]]),Object(o["P"])((Object(o["C"])(),Object(o["g"])(S,{clickable:"",onClick:t[2]||(t[2]=t=>e.$refs.file.click())},{default:Object(o["O"])(()=>[Object(o["l"])(A,null,{default:Object(o["O"])(()=>[p]),_:1}),Object(o["j"])("input",{onChange:t[1]||(t[1]=(...e)=>a.importTags&&a.importTags(...e)),type:"file",ref:"file",accept:".json",style:{display:"none"}},null,544)]),_:1})),[[R]])]),_:1})]),_:1})]),Object(o["l"])(q),Object(o["j"])("div",m,[h,Object(o["l"])(x,null,{default:Object(o["O"])(()=>[Object(o["l"])(w,{dense:"",style:{"min-width":"100px"}},{default:Object(o["O"])(()=>[Object(o["P"])((Object(o["C"])(),Object(o["g"])(S,{clickable:"",href:"https://github.com/tecoholic/ner-annotator/discussions",target:"_blank"},{default:Object(o["O"])(()=>[Object(o["l"])(A,null,{default:Object(o["O"])(()=>[g]),_:1})]),_:1})),[[R]]),Object(o["P"])((Object(o["C"])(),Object(o["g"])(S,{clickable:"",href:"https://github.com/tecoholic/ner-annotator/issues",target:"_blank"},{default:Object(o["O"])(()=>[f]),_:1})),[[R]]),Object(o["l"])(T),Object(o["P"])((Object(o["C"])(),Object(o["g"])(S,{clickable:"",onClick:t[3]||(t[3]=t=>e.showAbout=!0)},{default:Object(o["O"])(()=>[Object(o["l"])(A,null,{default:Object(o["O"])(()=>[k]),_:1})]),_:1})),[[R]])]),_:1})]),_:1}),Object(o["l"])(J,{show:e.showAbout,onHide:t[4]||(t[4]=t=>e.showAbout=!1)},null,8,["show"])])])]),_:1}),Object(o["l"])(U,{modelValue:e.promptForProject,"onUpdate:modelValue":t[7]||(t[7]=t=>e.promptForProject=t),persistent:""},{default:Object(o["O"])(()=>[Object(o["l"])(Q,{style:{"min-width":"350px"}},{default:Object(o["O"])(()=>[Object(o["l"])(N,null,{default:Object(o["O"])(()=>[C]),_:1}),Object(o["l"])(N,{class:"q-pt-none"},{default:Object(o["O"])(()=>[Object(o["l"])(B,{dense:"",modelValue:e.newProjectName,"onUpdate:modelValue":t[5]||(t[5]=t=>e.newProjectName=t),autofocus:"",onKeyup:t[6]||(t[6]=Object(o["Q"])(t=>e.promptForProject=!1,["enter"]))},null,8,["modelValue"])]),_:1}),Object(o["l"])(E,{align:"right",class:"text-primary"},{default:Object(o["O"])(()=>[Object(o["P"])(Object(o["l"])(I,{flat:"",label:"Cancel"},null,512),[[R]]),Object(o["P"])(Object(o["l"])(I,{flat:"",label:"Create Project"},null,512),[[R]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}const v=Object(o["k"])("Export");function w(e,t,n,s,c,a){const l=Object(o["J"])("q-item-section"),r=Object(o["J"])("q-item"),i=Object(o["K"])("close-popup");return Object(o["P"])((Object(o["C"])(),Object(o["g"])(r,{clickable:"",onClick:t[0]||(t[0]=e=>a.generateJSONExport())},{default:Object(o["O"])(()=>[Object(o["l"])(l,null,{default:Object(o["O"])(()=>[v]),_:1})]),_:1})),[[i]])}var x=n("5502"),A=n("5566"),S=n("e301"),q=n("bccc");const T=async(e,t)=>{if("undefined"===typeof window.rpc){let n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}else Object(A["a"])({defaultPath:await Object(q["a"])(),filters:[{extensions:["json"],name:"JSON Files (*.json)"},{name:"All files (*.*)",extensions:["*"]}]}).then(t=>{t&&(t.match(/.*\.json$/)||(t+=".json"),Object(S["a"])("save_file",{filepath:t,contents:e}).then(e=>alert(e)).catch(e=>alert(e)))}).catch(e=>console.log("Save cancelled.",e))};var J={name:"ExportAnnotations",computed:{...Object(x["e"])(["annotations","classes"])},methods:{async generateJSONExport(){const e={classes:this.classes.map(e=>e.name),annotations:this.annotations},t=JSON.stringify(e);await T(t,"annotations.json")}}},P=n("6b0d"),N=n.n(P),B=n("66e5"),I=n("4074"),E=n("7f67"),Q=n("93dc"),U=n.n(Q);const R=N()(J,[["render",w]]);var _=R;U()(J,"components",{QItem:B["a"],QItemSection:I["a"]}),U()(J,"directives",{ClosePopup:E["a"]});var L=n("b3fe");const M=Object(o["j"])("div",{class:"text-h6"},"NER Annotator",-1),D=Object(o["j"])("strong",null,"Version: ",-1),H=Object(o["j"])("p",null,[Object(o["j"])("strong",null,"Source: "),Object(o["j"])("a",{href:"https://github.com/tecoholic/ner-annotator"}," Github Repository ")],-1),F=Object(o["j"])("p",null,[Object(o["j"])("strong",null,"Author:"),Object(o["k"])(" @tecoholic ("),Object(o["j"])("a",{href:"https://github.com/tecoholic"},"Github"),Object(o["k"])(", "),Object(o["j"])("a",{href:"https://github.com/tecoholic"},"Twitter"),Object(o["k"])(") ")],-1);function G(e,t,n,s,c,a){const l=Object(o["J"])("q-card-section"),r=Object(o["J"])("q-btn"),i=Object(o["J"])("q-card-actions"),u=Object(o["J"])("q-card"),b=Object(o["J"])("q-dialog"),d=Object(o["K"])("close-popup");return Object(o["C"])(),Object(o["g"])(b,{"model-value":n.show,onHide:t[0]||(t[0]=t=>e.$emit("hide"))},{default:Object(o["O"])(()=>[Object(o["l"])(u,{style:{"min-width":"400px"}},{default:Object(o["O"])(()=>[Object(o["l"])(l,null,{default:Object(o["O"])(()=>[M]),_:1}),Object(o["l"])(l,{class:"q-pt-none"},{default:Object(o["O"])(()=>[Object(o["j"])("p",null,[D,Object(o["k"])(Object(o["M"])(e.version),1)]),H,F]),_:1}),Object(o["l"])(i,{align:"right"},{default:Object(o["O"])(()=>[Object(o["P"])(Object(o["l"])(r,{flat:"",label:"OK",color:"primary"},null,512),[[d]])]),_:1})]),_:1})]),_:1},8,["model-value"])}var V={name:"AboutDialog",emits:["hide"],props:{show:{type:Boolean,default:!1}},data:function(){return{version:"1.0.3"}}},z=n("24e8"),W=n("f09f"),Y=n("a370"),Z=n("4b7e"),K=n("9c40");const X=N()(V,[["render",G]]);var $=X;U()(V,"components",{QDialog:z["a"],QCard:W["a"],QCardSection:Y["a"],QCardActions:Z["a"],QBtn:K["a"]}),U()(V,"directives",{ClosePopup:E["a"]});var ee={components:{ExportAnnotations:_,AboutDialog:$},name:"MenuBar",setup(){const e=Object(L["a"])();return{notify(t,n,o){e.notify({icon:t,message:n,color:o,position:"top",timeout:2e3,actions:[{label:"Dismiss",color:"white"}]})}}},data:function(){return{promptForProject:!1,newProjectName:"",showAbout:!1}},computed:{...Object(x["e"])(["annotations","classes"])},methods:{...Object(x["d"])(["loadClasses"]),exportTags:async function(){await T(JSON.stringify(this.classes),"tags.json")},importTags:function(e){let t=e.target.files[0],n=new FileReader;n.onload=t=>{try{this.loadClasses(JSON.parse(t.target.result)),this.notify("fa fa-check",this.classes.length+" Tags imported successfully","positive")}catch(e){this.notify("fas fa-exclamation-circle","Invalid file","red-6")}},n.readAsText(t)}}},te=n("e359"),ne=n("cb32"),oe=n("4e73"),se=n("1c1c"),ce=n("eb85"),ae=n("2c91"),le=n("27f9");const re=N()(ee,[["render",y]]);var ie=re;U()(ee,"components",{QHeader:te["a"],QAvatar:ne["a"],QMenu:oe["a"],QList:se["a"],QItem:B["a"],QItemSection:I["a"],QSeparator:ce["a"],QSpace:ae["a"],QDialog:z["a"],QCard:W["a"],QCardSection:Y["a"],QInput:le["a"],QCardActions:Z["a"],QBtn:K["a"]}),U()(ee,"directives",{ClosePopup:E["a"]});var ue=n("9b17"),be=n.n(ue),de=n("10f8"),je=n.n(de),Oe=n("88e2"),pe=n.n(Oe);const me={class:"q-mx-auto q-my-xl",style:{"max-width":"600px"}},he=Object(o["j"])("h5",{class:"text-h5"},"NER Text Annotator",-1),ge=Object(o["j"])("p",{class:"text-subtitle1 text-grey-7"}," Annotate text for spaCy NER Model training ",-1),fe={class:"q-my-xl q-py-md"},ke={class:"bg-grey-1 q-pa-lg"},Ce={class:"q-mx-auto",style:{"max-width":"600px"}},ye=Object(o["j"])("h4",{class:"text-h4"}," How to use the NER Annotator? ",-1),ve=Object(o["j"])("p",{class:"text-subtitle1 q-my-md"},"Tips to prepare the text file",-1),we=Object(o["j"])("ul",null,[Object(o["j"])("li",null,"Break your content in paragraphs or passages"),Object(o["j"])("li",null,[Object(o["k"])(" Maintain a consistent seperator between the passages. "),Object(o["j"])("br"),Object(o["k"])(" Eg., newline, empty line or a text seperator like "),Object(o["j"])("code",null,"---")]),Object(o["j"])("li",null," For large datasets, break the text into smaller files and tag them seperately ")],-1),xe=Object(o["j"])("ul",{class:"q-my-md"},[Object(o["j"])("li",null,[Object(o["k"])("Use the "),Object(o["j"])("strong",null,"New Tag"),Object(o["k"])(" button to create new tags")]),Object(o["j"])("li",null,[Object(o["k"])(" Use the "),Object(o["j"])("strong",null,"Edit Tag"),Object(o["k"])(" button to remove unwanted tags ")]),Object(o["j"])("li",null,[Object(o["k"])(" Click the "),Object(o["j"])("strong",null,"Save"),Object(o["k"])(" button once you are done annotating an entry and to move to the next one ")]),Object(o["j"])("li",null,[Object(o["k"])(" Adjust the "),Object(o["j"])("strong",null,"Text Seperator"),Object(o["k"])(" break your content correctly into entries ")]),Object(o["j"])("li",null,[Object(o["k"])(" Use the "),Object(o["j"])("strong",null,"Tags"),Object(o["k"])(" menu to Export/Import tags to share with your team ")])],-1),Ae=Object(o["j"])("p",null,[Object(o["k"])(" See the spaCy documentation "),Object(o["j"])("a",{href:"https://spacy.io/api/data-formats#json-input"},"here"),Object(o["k"])(" on how to convert the annotations from JSON to DocBin format. ")],-1);function Se(e,t,n,s,c,a){const l=Object(o["J"])("q-icon"),r=Object(o["J"])("q-file"),i=Object(o["J"])("q-separator"),u=Object(o["J"])("q-img"),b=Object(o["J"])("q-timeline-entry"),d=Object(o["J"])("q-timeline");return Object(o["C"])(),Object(o["i"])(o["a"],null,[Object(o["j"])("div",me,[he,ge,Object(o["j"])("div",fe,[Object(o["l"])(r,{modelValue:c.textFile,"onUpdate:modelValue":[t[0]||(t[0]=e=>c.textFile=e),a.onFileSelected],accept:".txt",filled:"",label:"Open a text file to begin","bg-color":"light-blue-1"},{prepend:Object(o["O"])(()=>[Object(o["l"])(l,{name:"fas fa-upload"})]),_:1},8,["modelValue","onUpdate:modelValue"])])]),Object(o["l"])(i),Object(o["j"])("div",ke,[Object(o["j"])("div",Ce,[ye,Object(o["l"])(d,null,{default:Object(o["O"])(()=>[Object(o["l"])(b,{subtitle:"Step 1",title:"Load your text file with contents to annotate",icon:"fa fa-upload",color:"yellow-8"},{default:Object(o["O"])(()=>[Object(o["l"])(u,{src:be.a,"spinner-color":"white",class:"rounded-borders",style:{border:"1px solid #ccc",width:"80%"}}),ve,we]),_:1}),Object(o["l"])(b,{subtitle:"Step 2",title:"Create some tags and start tagging your text",icon:"fa fa-tag",color:"orange-6"},{default:Object(o["O"])(()=>[Object(o["l"])(u,{src:je.a,"spinner-color":"white",class:"rounded-borders",style:{border:"1px solid #ccc"}}),xe]),_:1}),Object(o["l"])(b,{subtitle:"Step 3",title:"Download your annotations as a JSON file that can be used for training",icon:"fa fa-download",color:"red-6"},{default:Object(o["O"])(()=>[Object(o["l"])(u,{src:pe.a,"spinner-color":"white",class:"rounded-borders",style:{border:"1px solid #ccc",width:"70%"}})]),_:1}),Object(o["l"])(b,{subtitle:"Finally",title:"Convert to DocBin format and use it for training",icon:"fa fa-file",color:"red-10"},{default:Object(o["O"])(()=>[Ae]),_:1})]),_:1})])])],64)}var qe={name:"StartPage",emits:["file-loaded"],data(){return{textFile:null}},methods:{...Object(x["d"])(["setInputSentences"]),onFileSelected(e){let t=new FileReader;t.addEventListener("load",e=>{this.setInputSentences(e.target.result),this.$emit("file-loaded")}),t.readAsText(e)}}},Te=n("7d53"),Je=n("0016"),Pe=n("05eb"),Ne=n("74af"),Be=n("068f");const Ie=N()(qe,[["render",Se]]);var Ee=Ie;U()(qe,"components",{QFile:Te["a"],QIcon:Je["a"],QSeparator:ce["a"],QTimeline:Pe["a"],QTimelineEntry:Ne["a"],QImg:Be["a"]});const Qe={class:"q-pa-lg",ref:"anno_area"},Ue={class:"q-pa-md",style:{"border-top":"1px solid #ccc"}};function Re(e,t,n,s,c,a){const l=Object(o["J"])("classes-block"),r=Object(o["J"])("q-btn");return Object(o["C"])(),Object(o["i"])("div",null,[Object(o["l"])(l),Object(o["j"])("div",Qe,[(Object(o["C"])(!0),Object(o["i"])(o["a"],null,Object(o["I"])(e.tm.tokens,e=>(Object(o["C"])(),Object(o["g"])(Object(o["L"])("token"===e.type?"Token":"TokenBlock"),{id:"t"+e.start,token:e,key:e.start,backgroundColor:e.backgroundColor,onRemoveBlock:a.onRemoveBlock},null,40,["id","token","backgroundColor","onRemoveBlock"]))),128))],512),Object(o["j"])("div",Ue,[e.currentIndex>0?(Object(o["C"])(),Object(o["g"])(r,{key:0,color:"blue",outline:"",onClick:a.PreviousTags,class:"q-mx-md",label:"Previous"},null,8,["onClick"])):Object(o["h"])("",!0),Object(o["l"])(r,{color:"red",outline:"",class:"q-mx-md",onClick:a.resetBlocks,label:"Reset"},null,8,["onClick"]),Object(o["l"])(r,{class:"q-mx-md",outline:"",onClick:a.skipCurrentSentence,label:"Skip"},null,8,["onClick"]),Object(o["l"])(r,{class:"q-mx-md",color:"green",outline:"",onClick:a.saveTags,label:"NEXT"},null,8,["onClick"]),Object(o["l"])(r,{color:"purple",outline:"",class:"q-mx-md",onClick:a.getNerAnno,label:"Auto NER"},null,8,["onClick"])])])}const _e={key:0,class:"token"};function Le(e,t,n,s,c,a){return"token"===n.token.type?(Object(o["C"])(),Object(o["i"])("span",_e,Object(o["M"])(n.token.text),1)):Object(o["h"])("",!0)}var Me={name:"Token",props:{token:{type:Object,required:!0}}};n("fd47");const De=N()(Me,[["render",Le]]);var He=De;const Fe={class:"tag"};function Ge(e,t,n,s,c,a){const l=Object(o["J"])("Token"),r=Object(o["J"])("q-btn");return Object(o["C"])(),Object(o["i"])("mark",{class:Object(o["t"])("bg-"+n.backgroundColor)},[(Object(o["C"])(!0),Object(o["i"])(o["a"],null,Object(o["I"])(n.token.tokens,e=>(Object(o["C"])(),Object(o["g"])(l,{token:e,key:e.start},null,8,["token"]))),128)),Object(o["j"])("span",Fe,[Object(o["k"])(Object(o["M"])(n.token.label)+" ",1),Object(o["l"])(r,{icon:"fa fa-times-circle",round:"",flat:"",size:"xs","text-color":"grey-7",onClick:t[0]||(t[0]=t=>e.$emit("remove-block",n.token.start))})])],2)}var Ve={name:"TokenBlock",emits:["remove-block"],data:function(){return{showClose:!1}},props:{token:{type:Object,requried:!0},backgroundColor:{type:String,required:!1}},components:{Token:He}};n("cb16");const ze=N()(Ve,[["render",Ge]]);var We=ze;U()(Ve,"components",{QBtn:K["a"]});const Ye={class:"q-pa-md",style:{"border-bottom":"1px solid #ccc"}},Ze={class:"row"},Ke={class:"tags"},Xe={class:"q-mx-md"},$e={class:"buttons"};function et(e,t,n,s,c,a){const l=Object(o["J"])("q-avatar"),r=Object(o["J"])("q-chip"),i=Object(o["J"])("q-space"),u=Object(o["J"])("q-btn"),b=Object(o["J"])("q-input"),d=Object(o["J"])("q-btn-group");return Object(o["C"])(),Object(o["i"])("div",Ye,[Object(o["j"])("div",Ze,[Object(o["j"])("div",Ke,[(Object(o["C"])(!0),Object(o["i"])(o["a"],null,Object(o["I"])(e.classes,t=>(Object(o["C"])(),Object(o["g"])(r,{key:t.id,square:"",color:t.id===e.currentClass.id?t.color:"grey-3",clickable:"",onClick:n=>e.setCurrentClass(t.id),removable:c.showDeleteButtons,onRemove:e=>a.handleRemoveClass(t.id,t.name)},{default:Object(o["O"])(()=>[Object(o["l"])(l,{color:t.color.replace("11","12"),"text-color":"white",icon:t.id===e.currentClass.id?"fa fa-check":""},null,8,["color","icon"]),Object(o["k"])(" "+Object(o["M"])(t.name),1)]),_:2},1032,["color","onClick","removable","onRemove"]))),128))]),Object(o["l"])(i),Object(o["j"])("div",Xe,[c.showNewClassInput||0===e.classes.length?(Object(o["C"])(),Object(o["g"])(b,{key:0,"bottom-slots":"",modelValue:c.newClassName,"onUpdate:modelValue":t[1]||(t[1]=e=>c.newClassName=e),hint:"Enter a NER Tag and click [+] to add it",dense:"",autofocus:""},{append:Object(o["O"])(()=>[Object(o["l"])(u,{round:"",dense:"",flat:"",color:"green-4",icon:"fa fa-plus",onClick:a.saveNewClass},null,8,["onClick"]),Object(o["l"])(u,{round:"",color:"red-4",dense:"",flat:"",icon:"fa fa-times",onClick:t[0]||(t[0]=e=>c.showNewClassInput=!1)})]),_:1},8,["modelValue"])):Object(o["h"])("",!0)]),Object(o["j"])("div",$e,[Object(o["l"])(d,null,{default:Object(o["O"])(()=>[Object(o["l"])(u,{outline:"",onClick:t[2]||(t[2]=e=>c.showNewClassInput=!0),label:"New Tag"}),Object(o["l"])(u,{outline:"",onClick:a.getNertags,label:"NER Tag"},null,8,["onClick"]),Object(o["l"])(u,{outline:"",onClick:t[3]||(t[3]=e=>c.showDeleteButtons=!c.showDeleteButtons),label:c.showDeleteButtons?"Lock Tags":"Edit Tags"},null,8,["label"])]),_:1})])])])}var tt=n("bc3a"),nt=n.n(tt),ot={name:"ClassesBlock",data(){return{showNewClassInput:!1,newClassName:"",showDeleteButtons:!1}},computed:{...Object(x["e"])(["classes","currentClass"])},watch:{newClassName(e,t){e!=t&&(this.newClassName=e.toUpperCase())}},methods:{...Object(x["d"])(["setCurrentClass"]),...Object(x["b"])(["createNewClass","deleteClass"]),handleRemoveClass(e,t){let n=confirm("Are you sure you want to remove the tag `"+t+"`?\nNOTE: This will NOT affect previously tagged entities.");n&&this.deleteClass(e)},saveNewClass(){const e=this;this.createNewClass(this.newClassName).then(()=>{e.showNewClassInput=!1,e.newClassName=""})},onInputKeyup(e){"Enter"===e.key&&this.saveNewClass()},getNertags(){nt.a.get(this.getnerapitags).then(e=>{e.data.forEach(e=>this.createNewClass(e))}).catch(e=>console.log(e))}}},st=(n("e4a4"),n("b047")),ct=n("e7a9");const at=N()(ot,[["render",et],["__scopeId","data-v-3393c8aa"]]);var lt=at;U()(ot,"components",{QChip:st["a"],QAvatar:ne["a"],QSpace:ae["a"],QInput:le["a"],QBtn:K["a"],QBtnGroup:ct["a"]});class rt{constructor(e){this.tokens=e.map(e=>({type:"token",start:e[0],end:e[1],text:e[2]})),this.words=e.map(e=>e[2])}addNewBlock(e,t,n){let o=[],s=[],c=t<e?t:e,a=t>e?t:e;for(let l=0;l<this.tokens.length;l++){let e=this.tokens[l];e.start<c?s.push(e):"token"==e.type&&e.start>=c&&e.start<=a?o.push(e):e.start>c&&o.length?(s.push({type:"token-block",start:o[0].start,end:o[o.length-1].end,tokens:o,label:n&&n.name?n.name:"Unlabelled",classId:n&&n.id?n.id:0,backgroundColor:n&&n.color?n.color:null}),o=[],s.push(e)):s.push(e)}o.length&&s.push({type:"token-block",start:o[0].start,end:o[o.length-1].end,tokens:o,label:n&&n.name?n.name:"Unlabelled",classId:n&&n.id?n.id:0,backgroundColor:n&&n.color?n.color:null}),this.tokens=s}removeBlock(e){let t=[];for(let n=0;n<this.tokens.length;n++)"token-block"===this.tokens[n].type&&this.tokens[n].start===e?t.push(...this.tokens[n].tokens):t.push(this.tokens[n]);this.tokens=t}resetBlocks(){let e=[];for(let t=0;t<this.tokens.length;t++)"token"===this.tokens[t].type?e.push(this.tokens[t]):e.push(...this.tokens[t].tokens);this.tokens=e}exportAsAnnotation(){let e=[];for(let t=0;t<this.tokens.length;t++)if("token-block"===this.tokens[t].type){let n=this.tokens[t];e.push([n.start,n.end,n.label])}return e}}var it=rt,ut=n("6db2"),bt=n.n(ut),dt={name:"AnnotationPage",data:function(){return{tm:new it([]),currentSentence:{},redone:"",tokenizer:new bt.a}},components:{Token:He,TokenBlock:We,ClassesBlock:lt},computed:{...Object(x["e"])(["inputSentences","classes","annotations","currentClass","currentIndex"])},watch:{inputSentences(){this.resetIndex(),this.tokenizeCurrentSentence()}},created(){this.inputSentences.length&&this.tokenizeCurrentSentence(),document.addEventListener("mouseup",this.selectTokens)},beforeUnmount(){document.removeEventListener("mouseup",this.selectTokens)},methods:{...Object(x["d"])(["nextSentence","resetIndex","prevSentence"]),...Object(x["c"])(["checkCurrentAnnotationHTML","getCurrentAnnotationHTML","geTokenclass"]),tokenizeCurrentSentence(){if(this.currentIndex>=this.inputSentences.length)return void alert("You have completed all the sentences");this.currentSentence=this.inputSentences[this.currentIndex];let e=this.tokenizer.tokenize(this.currentSentence.text);console.log(this.currentSentence.text);let t=this.tokenizer.span_tokenize(this.currentSentence.text);console.log(t);let n=e.map((e,n)=>[t[n][0],t[n][1],e]);console.log(n),this.tm=new it(n),console.log(this.tm)},selectTokens(){let e,t,n=document.getSelection();if(n.anchorOffset!==n.focusOffset||n.anchorNode!==n.focusNode){try{e=parseInt(n.anchorNode.parentElement.id.replace("t","")),t=parseInt(n.focusNode.parentElement.id.replace("t",""))}catch(o){return void console.log("selected text were not tokens")}if(!this.classes.length&&n.anchorNode)return alert("There are no Tags available. Kindly add some Tags before tagging."),void n.empty();this.tm.addNewBlock(e,t,this.currentClass),console.log(this.tm),n.empty()}},onRemoveBlock(e){this.tm.removeBlock(e)},resetBlocks(){this.tm.resetBlocks()},skipCurrentSentence(){this.nextSentence(),this.tokenizeCurrentSentence(),this.check_Anno()},check_Anno(){this._check=this.$store.getters.checkCurrentAnnotationHTML(this.currentIndex),this._check&&(this.tm=this._check)},saveTags(){this.$store.commit("saveCurrentAnnotationHTML",this.tm),this.$store.commit("addAnnotation",[this.currentSentence.text,{entities:this.tm.exportAsAnnotation()}]),this.nextSentence(),this.tokenizeCurrentSentence(),this.check_Anno()},PreviousTags(){console.log("prev"),console.log(this.$refs.anno_area.innerHTML),console.log(this.currentSentence),this.$store.commit("saveCurrentAnnotationHTML",this.tm),this.$store.commit("addAnnotation",[this.currentSentence.text,{entities:this.tm.exportAsAnnotation()}]),this.prevSentence(),this.tokenizeCurrentSentence(),this.check_Anno()},getNerAnno(){console.log("1234"),this.send_data={sentence:this.currentSentence.text},this.send_headers={"Content-Type":"application/json"},nt.a.post(this.getner,this.send_data,{headers:this.send_headers}).then(e=>{console.log(e),this.ner_result=e.data.extractions;for(var t=0;t<this.ner_result.length;t++)this.tagclass=this.$store.getters.getTokenclass(this.ner_result[t].name),this.tm.addNewBlock(this.ner_result[t].first_index,this.ner_result[t].last_index,this.tagclass)}).catch(e=>console.log(e))}}};const jt=N()(dt,[["render",Re]]);var Ot=jt;U()(dt,"components",{QBtn:K["a"]});const pt={class:"px-3"};function mt(e,t,n,s,c,a){const l=Object(o["J"])("split-type-selector"),r=Object(o["J"])("progress-bar");return Object(o["C"])(),Object(o["i"])("nav",pt,[Object(o["l"])(l,{class:"mt-4 mb-5"}),Object(o["l"])(r,{class:"mb-5",completed:e.currentIndex,total:e.inputSentences.length},null,8,["completed","total"])])}const ht={class:"q-mx-md"},gt={class:"is-size-6"};function ft(e,t,n,s,c,a){const l=Object(o["J"])("q-linear-progress");return Object(o["C"])(),Object(o["i"])("div",ht,[Object(o["j"])("p",gt,"Tagging Progress ("+Object(o["M"])(n.completed)+"/"+Object(o["M"])(n.total)+")",1),Object(o["l"])(l,{size:"md",color:"primary",value:n.completed/n.total},null,8,["value"])])}var kt={name:"ProgressBar",props:{completed:{type:Number,required:!0,default:1},total:{type:Number,required:!0}},computed:{completedPercent(){return parseInt(this.completed/this.total*100)}}},Ct=n("6b1d");const yt=N()(kt,[["render",ft]]);var vt=yt;U()(kt,"components",{QLinearProgress:Ct["a"]});const wt={class:"q-pa-md"},xt={key:0,class:"q-px-md"};function At(e,t,n,s,c,a){const l=Object(o["J"])("q-select"),r=Object(o["J"])("q-input");return Object(o["C"])(),Object(o["i"])("section",null,[Object(o["j"])("div",wt,[Object(o["l"])(l,{outlined:"","bg-color":"white",modelValue:a.splitType,"onUpdate:modelValue":t[0]||(t[0]=e=>a.splitType=e),options:c.splitOptions,"map-options":!0,label:"Text Seperator"},null,8,["modelValue","options"])]),"custom"===a.splitType?(Object(o["C"])(),Object(o["i"])("div",xt,[Object(o["l"])(r,{label:"Separator","bg-color":"white",outlined:"",modelValue:c.customSeparator,"onUpdate:modelValue":t[1]||(t[1]=e=>c.customSeparator=e),onChange:a.separatorChanged,disabled:e.annotations.length},null,8,["modelValue","onChange","disabled"])])):Object(o["h"])("",!0)])}var St={name:"SpitTypeSelector",data(){return{customSeparator:"---",splitOptions:[{label:"New Line",value:"newline"},{label:"An Empty Line",value:"emptyline"},{label:"Custom String",value:"custom"}]}},computed:{...Object(x["e"])(["annotations"]),splitType:{get(){switch(this.$store.state.separator){case"\n":return"newline";case"\n\n":return"emptyline";default:return"custom"}},set(e){switch(e.value){case"newline":this.$store.commit("setSeparator","\n");break;case"emptyline":this.$store.commit("setSeparator","\n\n");break;default:this.$store.commit("setSeparator","---");break}}}},methods:{separatorChanged(){this.$store.commit("setSeparator",this.customSeparator)}}},qt=n("ddd8");const Tt=N()(St,[["render",At]]);var Jt=Tt;U()(St,"components",{QSelect:qt["a"],QInput:le["a"]});var Pt={name:"AnnotationSidebar",components:{ProgressBar:vt,SplitTypeSelector:Jt},computed:{...Object(x["e"])(["currentIndex","inputSentences"])}};n("cb46");const Nt=N()(Pt,[["render",mt]]);var Bt=Nt,It={name:"LayoutDefault",data(){return{currentPage:"start"}},components:{MenuBar:ie,StartPage:Ee,AnnotationPage:Ot,AnnotationSidebar:Bt},methods:{switchToPage(e){this.currentPage=e}}},Et=n("4d5a"),Qt=n("9404"),Ut=n("09e3");const Rt=N()(It,[["render",s]]);var _t=Rt;U()(It,"components",{QLayout:Et["a"],QDrawer:Qt["a"],QPageContainer:Ut["a"]});n("54ba"),n("13d5"),n("d9e2");var Lt=n("18d6");const Mt=["red-11","blue-11","light-green-11","deep-orange-11","pink-11","light-blue-11","lime-11","brown-11","purple-11","cyan-11","yellow-11","grey-11","deep-purple-11","teal-11","amber-11","blue-grey-11","indigo-11","green-11","orange-11"],Dt={setInputSentences(e,t){Array.isArray(t)||(e.originalText=t,t=t.split(e.separator)),e.inputSentences=t.map((e,t)=>({id:t,text:e}))},addClass(e,t){let n=e.classes.find(e=>e.name==t);if(n)return;let o=e.classes.reduce((e,t)=>t.id>e?t.id:e,0);e.classes.push({id:o+1,name:t,color:Mt[o%Mt.length]}),1===e.classes.length&&(e.currentClass=e.classes[0])},removeClass(e,t){e.classes=e.classes.filter(e=>e.id!=t),e.currentClass.id===t&&(e.currentClass=e.classes[0])},setCurrentClass(e,t){e.currentClass=e.classes.find(e=>e.id===t)},addAnnotation(e,t){e.annotations[e.currentIndex]?e.annotations[e.currentIndex]=t:e.annotations.push(t)},setSeparator(e,t){e.separator=t;const n=e.originalText.split(e.separator);e.inputSentences=n.map((e,t)=>({id:t,text:e}))},nextSentence(e){e.currentIndex+=1},prevSentence(e){e.currentIndex-=1},resetIndex(e){e.currentIndex=0},saveCurrentAnnotationHTML(e,t){console.log(e.currentIndex),e.PrevAnnotation[e.currentIndex]=t,console.log("done")},loadClasses(e,t){if(!Array.isArray(t))throw new Error("loadClasses: payload must be an array");let n=t.reduce((e,t)=>e&&"object"===typeof t&&"id"in t&&"name"in t&&"color"in t,!0);if(!n)throw new Error("loadClasses: payload has invalid schema");e.classes=t}},Ht={checkCurrentAnnotationHTML:e=>t=>e.PrevAnnotation[t],getCurrentAnnotationHTML:e=>t=>e.PrevAnnotation[t],getTokenclass:e=>t=>e.classes.find(e=>e.name===t)},Ft={createNewClass({commit:e,state:t},n){return new Promise((o,s)=>{e("addClass",n);try{Lt["a"].set("tags",t.classes)}catch(c){s(c)}o()})},deleteClass({commit:e,state:t},n){e("removeClass",n),Lt["a"].set("tags",t.classes)}};var Gt={state(){return{originalText:"",separator:"\n",classes:Lt["a"].getItem("tags")||[],inputSentences:[],annotations:[],PrevAnnotation:{},currentClass:{},currentIndex:0}},getters:Ht,mutations:Dt,actions:Ft},Vt=n("b05d"),zt=(n("0e21"),n("b3f7")),Wt=n.n(zt),Yt=(n("573e"),n("35fc"),n("2a19")),Zt={config:{},plugins:{Notify:Yt["a"]},iconSet:Wt.a};const Kt=Object(o["f"])(_t).use(Vt["a"],Zt);Kt.use(Object(x["a"])(Gt)),Kt.mount("#app"),Kt.config.globalProperties.getnerapi="http://omeaks-python-import.ccstw.nccu.edu.tw:7851",Kt.config.globalProperties.getnerapitags="http://omeaks-python-import.ccstw.nccu.edu.tw:7851/tags",Kt.config.globalProperties.getner="http://omeaks-python-import.ccstw.nccu.edu.tw:7851/extractions"},"5cd3":function(e,t,n){},"5ceb":function(e,t){e.exports="data:image/png;base64,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"},"88e2":function(e,t,n){e.exports=n.p+"img/step-3.01df1d74.png"},"960b":function(e,t,n){},"9b17":function(e,t,n){e.exports=n.p+"img/step-1.517d98cd.png"},cb16:function(e,t,n){"use strict";n("e661")},cb46:function(e,t,n){"use strict";n("960b")},e4a4:function(e,t,n){"use strict";n("5cd3")},e661:function(e,t,n){},fd47:function(e,t,n){"use strict";n("1f49")}});
//# sourceMappingURL=app.0324c327.js.map